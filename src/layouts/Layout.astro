---
import ImageComp from "../components/ImageComp.astro";
import "../styles/global.css";

const { pageTitle } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/png" href="/camera.png" />
    <link rel="sitemap" href="/sitemap-index.xml" />
    <meta name="generator" content={Astro.generator} />
    <title>{pageTitle}</title>

    <meta
      name="description"
      content="ANFASSA es un fotografo profesional que se especializa en fotografia de bodas, eventos y retratos. Con sede en la Ciudad de Mexico, ANFASSA ha trabajado con clientes de todo el mundo."
    />
    <script
      type="text/partytown"
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-LYET44M9WE"></script>
    <script type="text/partytown">
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-LYET44M9WE");
    </script>
  </head>
  <body class="">
    <div
      id="overlay"
      class="absolute z-50 inset-0 bg-white flex justify-center items-center opacity-100 duration-[2.7s] ease-in"
    >
      <ImageComp
        imagePath="/src/assets/ANFASSA.png"
        imageAlt="ANFASSA"
        styles="h-52 w-auto"
        loading="eager"
      />
    </div>
    <div
      id="logo"
      class="absolute z-50 w-full bottom-4 flex justify-center items-center opacity-0 duration-1000 ease-in"
    >
      <ImageComp
        imagePath="/src/assets/ANFASSA.png"
        imageAlt="ANFASSA"
        styles="h-36 w-auto invert drop-shadow-md"
        loading="eager"
      />
    </div>
    <slot />
  </body>
</html>
<script>
  window.addEventListener("load", () => {
    const overlay = document.querySelector("#overlay") as HTMLDivElement;
    const logo = document.querySelector("#logo") as HTMLDivElement;
    if (overlay) {
      overlay.classList.remove("opacity-100");
      overlay.classList.add("opacity-0");

      setTimeout(() => {
        overlay.style.display = "none";
        logo.classList.remove("opacity-0");
        logo.classList.add("opacity-100");
      }, 3000);
    }
  });
</script>
